Format: Fall24-October10
Language: ru
Title: Паттерн Builder: Поэтапное создание объекта во времени
Slug: builder-pattern-timed-construction
Categories: blog
<h2>Введение</h2>
В прошлой статье рассматривался общий случай использования паттерна Builder, но не затрагивался вариант, когда объект создается поэтапно во времени.
Паттерн Builder (Строитель) – это порождающий шаблон проектирования, который позволяет поэтапно создавать сложные объекты. Он особенно полезен, когда объект имеет много параметров или различных конфигураций. Одним из интересных примеров его использования является возможность разделения процесса создания объекта по времени.
Иногда объект нельзя создать сразу – его параметры могут становиться известными на разных этапах выполнения программы. 

<h2>Пример на Python</h2>

В этом примере объект автомобиля создается поэтапно: сначала часть данных загружается с сервера, затем пользователь вводит недостающую информацию.

<pre><code>Language: Python
import requests

def fetch_car_data():
    response = requests.get("https://api.example.com/car-info")
    return response.json()

builder = CarBuilder()

# Данные с сервера
car_data = fetch_car_data()
builder.set_model(car_data["model"])
builder.set_year(car_data["year"])

# Данные от пользователя
color = input("Введите цвет автомобиля: ")
builder.set_color(color)

gps_option = input("Добавить GPS? (yes/no): ").lower() == "yes"
builder.set_gps(gps_option)

car = builder.build()
print(car)
</code></pre>

<h2>Преимущества</h2>

- На выходе получается иммутабельная структура, которой не требуется хранить опциональные данные для временной сборки
- Объект собирается постепенно
- Избежание сложных конструкторов
- Код сборки объекта инкапсулируется лишь в одной сущности Builder
- Удобство понимания кода

<h2>Источники</h2>

https://www.amazon.com/Design-Patterns-Object-Oriented-Addison-Wesley-Professional-ebook/dp/B000SEIBB8