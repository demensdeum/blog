Format: Fall24-October10
Language: ru
Title: Паттерн Адаптер
Slug: adapter-pattern
Categories: techie,tutorials
<p><img loading="lazy" decoding="async" class="alignnone size-full wp-image-2174" src="https://demensdeum.com/blog/wp-content/uploads/2019/09/adapter.jpg" alt="" width="800" height="600" /></p>
<p><a title="User:Benjamín Núñez González" href="https://commons.wikimedia.org/wiki/File:Enchufe,_13_Amp_Plug,_UK,_2015.JPG" target="_blank" rel="noopener">Benjamín Núñez González</a></p>
<p>Паттерн Адаптер относится к структурным паттернам проектирования.</p>
<p>Адаптер обеспечивает конвертацию данных/интерфейсов между двумя классами/интерфейсами.</p>
<p>Допустим мы разрабатываем систему определения цели покупателя в магазине на основе нейросетей. Система получает видеопоток с камеры магазина, определяет покупателей по их поведению, классифицирует по группам. Виды групп &#8211; пришел купить (потенциальный покупатель), просто посмотреть (зевака), пришел что-то украсть (вор), пришел сдать товар (недовольный покупатель), пришел пьяный/под кайфом (потенциальный дебошир).</p>
<p>Как все опытные разработчики, мы находим готовую нейросеть которая умеет классифицировать виды обезьян в клетке по видеопотоку, которую любезно выложил в свободный доступ зоологический институт берлинского зоопарка, переучиваем ее на видеопотоке из магазина и получаем рабочую state-of-the-art систему.</p>
<p>Есть лишь небольшая проблема &#8211; видеопоток закодирован в формате mpeg2, а наша система поддерживает только OGG Theora. Исходного кода системы у нас нет, единственное что мы можем делать &#8211; менять датасет и обучать нейросеть. Что же делать? Написать класс-адаптер, который будет переводит поток из mpeg2 -> OGG Theora и отдавать в нейросеть.</p>
<p>По классической схеме в паттерне участвуют client, target, adaptee и adapter. Клиент в данном случае это нейросеть, получающая видеопоток в OGG Theora, таргет &#8211; интерфейс с которым она взаимодействует, adaptee &#8211; интерфейс отдающий видеопоток в mpeg2, адаптер &#8211; конвертирует mpeg2 в OGG Theora и отдает по интерфейсу target.</p>
<p>Вроде все просто?</p>
<h3>Источники</h3>
<p><a href="https://ru.wikipedia.org/wiki/Адаптер_(шаблон_проектирования)" target="_blank" rel="noopener noreferrer">https://ru.wikipedia.org/wiki/Адаптер_(шаблон_проектирования)</a><br />
<a href="https://refactoring.guru/ru/design-patterns/adapter" target="_blank" rel="noopener noreferrer">https://refactoring.guru/ru/design-patterns/adapter</a></p>